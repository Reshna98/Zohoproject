{% extends 'base.html' %}
{%load static%}
{% block content %}
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel="stylesheet" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
<style>
.form-group{
  width: 40%;
}

.select2-container .select2-selection--single{
    height:34px !important;
}
.select2-container--default .select2-selection--single{
    border: 1px solid #ccc !important; 
     border-radius: 0px !important; }

</style>
<div class="row fixed-top" style="top: 7rem;margin-left: 14rem;">
<div class="col-md-10">
  <div style="height: 400px; width:1100px; overflow-y: scroll;padding-left: 10%;">
  <h1> Add Expense</h1>
  <form method="POST" action="{%url 'save_expense'%}" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="form-group row">
      <label for="date" class="col-sm-2 col-form-label">Date</label>
      <div class="col-sm-10">
        <input type="date" class="form-control" id="date" name="date">
      </div>
    </div>
    <div class="form-group row">
      <label for="hsn_code" class="col-sm-2 col-form-label">Expense account</label>
      <div class="col-sm-10">
        <select id="expense_account" name="expense_account" class="form-control select2">
          <option value="">-- Select Expense Account --</option>
          <optgroup label="Other current asset">
            <option value="1">Advance tax</option>
            <option value="2">Employee advance</option>
            <option value="3">Prepaid Expenses</option>
            <option value="4">GST TCS Receivable</option>
            <option value="5">GST TDS Receivable</option>
            <option Value="6">Input TAX Credits</option>
            <ul style="margin-left: 30px;">
              <li><option value="7">Input CGST</option></li>
              <li><option value="8">Input IGST</option></li>
              <li><option value="9">Input SGST</option></li>
            </ul>
            <option value="10">Reverse charge tax input but not due</option>
            <option value="11">sales to customers(cash)</option>
            <option Value="12">TDS Receivable</option>
          </optgroup>
          <optgroup label="Expense">
            <option value="13">Advertising and marketing</option>
            <option value="14">Automobile expense</option>
            <option value="15">Bad Debt</option>
            <option value="16">Bank fees and charges</option>
            <option value="17">Consultant expense</option>
            <option value="18">Credit card charges</option>
            <option value="19">Depreciation expense</option>
            <option value="20">IT and Internet expenses</option>
            <option value="21">Janitorial Expense</option>
            <option value="22">Lodging</option>
            <option value="23">Meals and Entertaiment</option>
            <option value="24">Office suppplies</option>
            <option value="25">Other Expenses</option>
            <option value="26">Postage</option>
            <option value="27">Printing and stationary</option>
            <option value="28">Rent expense</option>
            <option value="29">Repairs and maintenance</option>
            <option value="30">Salaries and Employee wages</option>
            <option value="31">Telephone Expense</option>
            <option value="32">Travel Expense</option>
            <option value="33">Uncategorized</option>
            <option value="34">Contract assets</option>
            <option value="35">Depreciation and amortisation</option>
            <option value="35">Merchandise</option>
            <option value="35">Row materials and Consumables</option>
            <option value="35">Transportation </option>
          </optgroup>
          <optgroup label="Other current liability">
            <option value="36">Employee reimbursements</option>
            <option value="37">Opening balance adjustments</option>
            <option value="38">Tax payable</option>
            <option value="39">Unearned Revenue</option>
            <option value="40">GST Payable</option>
            <ul style="margin-left: 30px;">
              <li><option value="41">Output CGST</option></li>
              <li><option value="42">Output IGST</option></li>
              <li><option value="43">Output SGST</option></li>
            </ul>
            <option value="45">TDS Payable</option>
          </optgroup>
          <optgroup label="Fixed asset">
            <option value="46">Furniture and equipments</option>
          </optgroup>
          {% for account in accounts %}
          <option value="{{ account.id }}">{{ account.name }}</option>
          {% endfor %}
        </select>
        <!-- <div class="input-group-append">
          <button type="button" id="add-account-btn" class="btn btn-secondary">
           <span class="d-none d-sm-inline">+ New Account</span>
          </button>
        </div> -->
      <button type="button" onclick="openpopup()">Ad Acoount</button>
    
      </div>
    </div>
  
    <div class="form-group row">
      <label for="hsn_code" class="col-sm-2 col-form-label">HSN Code</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="hsn_code" name="hsn_code">
      </div>
    </div>
    <div class="form-group row">
      <label for="notes" class="col-sm-2 col-form-label">Notes</label>
      <div class="col-sm-10">
        <textarea class="form-control" id="notes" name="notes" rows="3"></textarea>
      </div>
    </div>
    <div class="form-group row">
      <label for="amount" class="col-sm-2 col-form-label">Amount</label>
      <div class="col-sm-10">
        <input type="number" class="form-control" id="amount" name="amount">
      </div>
    </div>
    <div class="form-group row">
      <label for="paid" class="col-sm-2 col-form-label">Paid Through</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="paid" name="paid">
      </div>
    </div>
    <div class="form-group row">
      <label for="vendor" class="col-sm-2 col-form-label">Vendor</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="vendor" name="vendor">
      </div>
    </div>
    <div class="form-group row">
      <label for="reporting_tags" class="col-sm-2 col-form-label">Reporting tags</label>
      <div class="col-sm-10">
        <input type="text" class="form-control" id="reporting_tags" name="reporting_tags">
      </div>
    </div>
    <div class="col-sm-10 offset-sm-2">
        <button type="submit" class="btn btn-primary">Submit</button>
    </div>
  </div>
  </div>
</form> 
</section>

<!-- <div class="modal fade" id="add-account-modal" tabindex="-1" role="dialog" aria-labelledby="add-account-modal-label" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="add-account-modal-label">Add Account</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <div class="form-group">
            <label for="account-type" class="col-form-label">Account Type:</label>
            <select id="account-type" name="account-type" class="form-control">
              <option value="">-- Select Account Type --</option>
              <option value="1">Expense</option>
              <option value="2">Asset</option>
              <option value="3">Liability</option>
              <option value="4">Equity</option>
              <option value="5">Revenue</option>
            </select>
          </div>
          <div class="form-group">
            <label for="account-name" class="col-form-label">Account Name:</label>
            <input type="text" class="form-control" id="account-name" name="account-name">
          </div>
          <div class="form-group">
            <label for="account-code" class="col-form-label">Account Code:</label>
            <input type="text" class="form-control" id="account-code" name="account-code">
          </div>
          <div class="form-group">
            <label for="account-description" class="col-form-label">Description:</label>
            <textarea class="form-control" id="account-description" name="account-description"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
</div> -->

<div class="popup" id="popup" style="height: 150%;">
  <div style="margin-top: 4rem;" class="display-flex">
   <h4 class="text-dark" >Add Account</h4>
   <h6 class="float-right text-dark" style="margin-right: 1rem; margin-top: -2rem;" onclick="closepopup()">X</h6>
  </div>
   
   <form style="margin-top: 3rem;" action="{%url 'add_accountE'%}" method="post">
     {% csrf_token %}
     <label class="text-dark" >Account type</label> <br>
     <input required  type="text" name="type" id=""> <br>
     <label  class="text-dark" >Account Name</label> <br>
     <input required type="text" name="name" id=""> <br>
     <label class="text-dark" >Parent name</label> <br>
     <input type="text" name="pname" id=""> <br>
     <label class="text-dark" >Account Code</label> <br>
     <input type="text" name="code" id=""> <br>
     <label class="text-dark" >Account Description</label> <br>
     <input type="text" name="description" id=""> <br> <br>
     <input  style="width: 5rem; height: 2rem; color: black;" class="btn btn-success" type="submit"  value="submit">
   <button style="width: 5rem; height: 2rem; color: black;"  class="btn btn-secondary" type="submit" onclick="closepopup()"  >Cancel</button>
   </form>


   <script>
     let popup=document.getElementById("popup");

     function openpopup(){
         popup.classList.add("open-popup");
     }
     function closepopup(){
         popup.classList.remove("open-popup");
     }

   </script>
 </div>
<script>
  $('.select2').select2();
  // $(document).ready(function() {
  //     $('#add-account-btn').on('click', function() {
  //       $('#add-account-modal').modal('show');
  //     });
  //   });
  </script>

{%endblock%}

